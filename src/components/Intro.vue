<template>
    <div class="mx-auto max-w-md px-4 sm:max-w-3xl sm:px-6 lg:px-8 lg:max-w-7xl lg:grid lg:grid-cols-2 lg:gap-24">
        <div>
            <div>
                <img class="h-24 w-auto" :src="require('../assets/disco.png')" alt="Workflow" />
            </div>

            <div class="mt-8">
                <div>
                    <a href="#" class="inline-flex space-x-4">
                        <span class="rounded bg-rose-50 px-2.5 py-1 text-xs font-semibold text-rose-500 tracking-wide uppercase">
                            What's new
                        </span>
                        <span class="inline-flex items-center text-sm font-medium text-rose-500 space-x-1">
                            <span>Moralis + Avalanche Hackathon</span>
                            <!-- Heroicon name: solid/chevron-right -->
                            <svg class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path fill-rule="evenodd" d="M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z" clip-rule="evenodd" />
                            </svg>
                        </span>
                    </a>
                </div>
                <div class="mt-6 sm:max-w-xl">
                    <h1 class="text-4xl font-extrabold text-gray-900 tracking-tight sm:text-5xl">
                        <span class="text-blue-500 text-5xl">DeFi Is HARD!</span>
                        <span class="block text-gray-700">Copy Strategies From TOP Traders</span>
                    </h1>

                    <p class="mt-6 text-xl text-gray-500">
                        Ava GoGo is an exclusive Social DeFi community where you can learn for the best crpyto traders in the world.
                    </p>

                    <div class="mt-1">
                        <strong class="block text-green-500">
                            <span class="text-2xl">&rarr;</span> Determine your risk level
                        </strong>

                        <strong class="block text-green-500">
                            <span class="text-2xl">&rarr;</span> Follow expert strategies
                        </strong>

                        <strong class="block text-green-500">
                            <span class="text-2xl">&rarr;</span> Watch your portfolio grow
                        </strong>
                    </div>
                </div>

                <div class="mt-2">
                    <div class="inline-flex items-center divide-x divide-gray-300">
                        <div class="flex-shrink-0 flex pr-5">
                            <!-- Heroicon name: solid/star -->
                            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                                />
                            </svg>
                            <!-- Heroicon name: solid/star -->
                            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                                />
                            </svg>
                            <!-- Heroicon name: solid/star -->
                            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                                />
                            </svg>
                            <!-- Heroicon name: solid/star -->
                            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                                />
                            </svg>
                            <!-- Heroicon name: solid/star -->
                            <svg class="h-5 w-5 text-yellow-400" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true">
                                <path
                                    d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"
                                />
                            </svg>
                        </div>

                        <div class="min-w-0 flex-1 pl-5 py-1 text-sm text-gray-500 sm:py-3">
                            <span class="font-medium text-gray-900">
                                Rated 5 stars
                            </span>
                            by over
                            <span class="font-medium text-rose-500">
                                500 Trustpilot users
                            </span>
                        </div>
                    </div>
                </div>

                <div class="flex flex-col">
                    <button class="mt-5 py-2 px-5 bg-red-300 border-2 border-red-500 text-xl text-white font-bold rounded-lg" @click="toggleJoin = !toggleJoin">
                        Join Our Hackathon Team!
                    </button>

                    <div class="flex flex-col sm:flex-row mt-2 items-center justify-between" v-if="toggleJoin">
                        <input class="w-full rounded-lg" type="email" v-model="email" placeholder="Please enter your email address here" />

                        <button class="w-full sm:w-72 sm:ml-3 mt-3 sm:mt-0 py-2 px-5 bg-yellow-500 border-2 border-yellow-700 text-xl text-white font-bold rounded-lg" @click="sendRequest">
                            Send Request
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</template>

<script>
export default {
    props: {
        msg: String
    },
    data: function () {
        return {
            email: null,
            toggleJoin: null,
        }
    },
    methods: {
        async sendRequest() {
            if (!this.email) {
                return alert('Please provide your email address.')
            }

            const url = 'https://api.telr.io/v1/slack/invite'

            const data = {
                action: 'Requesting invitation to #telr slack channel.',
                fullName: 'Ava GoGo Hackathon',
                contact: this.email,
            }

            const response = await fetch(url, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            })

            console.log('RESPONSE', response)
            if (response) {
                this.email = ''
                
                this.toggleJoin = !this.toggleJoin

                alert(`Your request was sent successfully!`)
            }

        },

    },
    created: function () {
        this.toggleJoin = false
    },
}
</script>
